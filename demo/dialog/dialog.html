<div class="container text-info">

    <h4 class="text-tips">设置主题</h4>
    <button type="text" style="color: #4D4D4D;" (click)="bPrimary=true">show primary</button>
    <button type="text" style="color: #4D4D4D;" (click)="bSuccess=true">show success</button>
    <button type="text" style="color: #4D4D4D;" (click)="bInfo=true">show info</button>
    <button type="text" style="color: #4D4D4D;" (click)="bWarning=true">show warning</button>
    <button type="text" style="color: #4D4D4D;" (click)="bDanger=true">show danger</button>
    <ctaf-cp-dialog style="primary" [(visible)]="bPrimary">
        <header>
            Header content here
        </header>
        The story begins as Don Vito Corleone, the head of a New York Mafia family, oversees his daughter's wedding. His beloved
        son Michael has just come home from the war, but does not intend to become part of his father's business. Through
        Michael's life the nature of the family business becomes clear. The business of the family is just like the head
        of the family, kind and benevolent to those who give respect, but given to ruthless violence whenever anything stands
        against the good of the family.
        <footer>
            <div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">
                <button type="text" style="color: #4D4D4D;" (click)="display=false">Yes</button>
                <button type="text" style="color: #4D4D4D;" (click)="display=false">No</button>
            </div>
        </footer>
    </ctaf-cp-dialog>
    <ctaf-cp-dialog style="success" [(visible)]="bSuccess">
        <header>
            Header content here
        </header>
        The story begins as Don Vito Corleone, the head of a New York Mafia family, oversees his daughter's wedding. His beloved
        son Michael has just come home from the war, but does not intend to become part of his father's business. Through
        Michael's life the nature of the family business becomes clear. The business of the family is just like the head
        of the family, kind and benevolent to those who give respect, but given to ruthless violence whenever anything stands
        against the good of the family.
        <footer>
            <div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">
                <button type="text" style="color: #4D4D4D;" (click)="display=false">Yes</button>
                <button type="text" style="color: #4D4D4D;" (click)="display=false">No</button>
            </div>
        </footer>
    </ctaf-cp-dialog>
    <ctaf-cp-dialog style="info" [(visible)]="bInfo">
        <header>
            Header content here
        </header>
        The story begins as Don Vito Corleone, the head of a New York Mafia family, oversees his daughter's wedding. His beloved
        son Michael has just come home from the war, but does not intend to become part of his father's business. Through
        Michael's life the nature of the family business becomes clear. The business of the family is just like the head
        of the family, kind and benevolent to those who give respect, but given to ruthless violence whenever anything stands
        against the good of the family.
        <footer>
            <div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">
                <button type="text" style="color: #4D4D4D;" (click)="display=false">Yes</button>
                <button type="text" style="color: #4D4D4D;" (click)="display=false">No</button>
            </div>
        </footer>
    </ctaf-cp-dialog>
    <ctaf-cp-dialog style="warning" [(visible)]="bWarning">
        <header>
            Header content here
        </header>
        The story begins as Don Vito Corleone, the head of a New York Mafia family, oversees his daughter's wedding. His beloved
        son Michael has just come home from the war, but does not intend to become part of his father's business. Through
        Michael's life the nature of the family business becomes clear. The business of the family is just like the head
        of the family, kind and benevolent to those who give respect, but given to ruthless violence whenever anything stands
        against the good of the family.
        <footer>
            <div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">
                <button type="text" style="color: #4D4D4D;" (click)="display=false">Yes</button>
                <button type="text" style="color: #4D4D4D;" (click)="display=false">No</button>
            </div>
        </footer>
    </ctaf-cp-dialog>
    <ctaf-cp-dialog style="danger" [(visible)]="bDanger">
        <header>
            Header content here
        </header>
        The story begins as Don Vito Corleone, the head of a New York Mafia family, oversees his daughter's wedding. His beloved
        son Michael has just come home from the war, but does not intend to become part of his father's business. Through
        Michael's life the nature of the family business becomes clear. The business of the family is just like the head
        of the family, kind and benevolent to those who give respect, but given to ruthless violence whenever anything stands
        against the good of the family.
        <footer>
            <div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">
                <button type="text" style="color: #4D4D4D;" (click)="display=false">Yes</button>
                <button type="text" style="color: #4D4D4D;" (click)="display=false">No</button>
            </div>
        </footer>
    </ctaf-cp-dialog>
    <div class="jumbtron">
        <monacoeditor language='html' height="150">
            <![CDATA[
<button type="text" style="color: #4D4D4D;" (click)="bPrimary=true">show primary</button>
<button type="text" style="color: #4D4D4D;" (click)="bSuccess=true">show success</button>
<button type="text" style="color: #4D4D4D;" (click)="bInfo=true">show info</button>
<button type="text" style="color: #4D4D4D;" (click)="bWarning=true">show warning</button>
<button type="text" style="color: #4D4D4D;" (click)="bDanger=true">show danger</button>

<ctaf-cp-dialog style="primary" [(visible)]="bPrimary">...</ctaf-cp-dialog>
<ctaf-cp-dialog style="success" [(visible)]="bSuccess">...</ctaf-cp-dialog>
<ctaf-cp-dialog style="info" [(visible)]="bInfo">...</ctaf-cp-dialog>
<ctaf-cp-dialog style="warning" [(visible)]="bWarning">...</ctaf-cp-dialog>
<ctaf-cp-dialog style="danger" [(visible)]="bDanger">...</ctaf-cp-dialog>
		    ]]>
        </monacoeditor>
    </div>

    <h4 class="text-tips">设置背景色</h4>
    <button type="text" style="color: #4D4D4D;" (click)="bBgColor=true">Show</button>
    <ctaf-cp-dialog bgColor="#404040"  [(visible)]="bBgColor">
        <header>
            Header content here
        </header>
        The story begins as Don Vito Corleone, the head of a New York Mafia family, oversees his daughter's wedding. His beloved
        son Michael has just come home from the war, but does not intend to become part of his father's business. Through
        Michael's life the nature of the family business becomes clear. The business of the family is just like the head
        of the family, kind and benevolent to those who give respect, but given to ruthless violence whenever anything stands
        against the good of the family.
        <footer>
            <div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">
                <button type="text" style="color: #4D4D4D;" (click)="display=false">Yes</button>
                <button type="text" style="color: #4D4D4D;" (click)="display=false">No</button>
            </div>
        </footer>
    </ctaf-cp-dialog>
    <div class="jumbtron">
        <monacoeditor language='html' height="70">
            <![CDATA[
<ctaf-cp-dialog bgColor="red"  [(visible)]="bBgColor">...</ctaf-cp-dialog>
		    ]]>
        </monacoeditor>
    </div>

    <h4 class="text-tips">外部控制显示隐藏</h4>
    <button type="text" style="color: #4D4D4D;" (click)="display=true">Show</button>
    <button type="text" style="color: #4D4D4D;" (click)="display=false">Hide</button>
    <ctaf-cp-dialog [(visible)]="display">
        <!-- [modal]="true"-->
        <header>
            Header content here
        </header>
        The story begins as Don Vito Corleone, the head of a New York Mafia family, oversees his daughter's wedding. His beloved
        son Michael has just come home from the war, but does not intend to become part of his father's business. Through
        Michael's life the nature of the family business becomes clear. The business of the family is just like the head
        of the family, kind and benevolent to those who give respect, but given to ruthless violence whenever anything stands
        against the good of the family.
        <footer>
            <div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">
                <button type="text" style="color: #4D4D4D;" (click)="display=false">Yes</button>
                <button type="text" style="color: #4D4D4D;" (click)="display=false">No</button>
            </div>
        </footer>
    </ctaf-cp-dialog>
    <div class="jumbtron">
        <monacoeditor language='html' height="400">
            <![CDATA[
<ctaf-cp-dialog [(visible)]="display">
        <!-- [modal]="true"-->
        <header>
            Header content here
        </header>
        The story begins as Don Vito Corleone, the head of a New York Mafia family, oversees his daughter's wedding. His beloved
        son Michael has just come home from the war, but does not intend to become part of his father's business. Through
        Michael's life the nature of the family business becomes clear. The business of the family is just like the head
        of the family, kind and benevolent to those who give respect, but given to ruthless violence whenever anything stands
        against the good of the family.
        <footer>
            <div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">
                <button type="text" style="color: #4D4D4D;" (click)="display=false">Yes</button>
                <button type="text" style="color: #4D4D4D;" (click)="display=false">No</button>
            </div>
        </footer>
    </ctaf-cp-dialog>
		    ]]>
        </monacoeditor>
    </div>

    <h4 class="text-tips">设置宽度</h4>
    <button type="text" style="color: #4D4D4D;" (click)="bWidth=true">Show</button>
    <ctaf-cp-dialog width="500" [(visible)]="bWidth">
        <!-- [modal]="true"-->
        <header>
            Header content here
        </header>
        The story begins as Don Vito Corleone, the head of a New York Mafia family, oversees his daughter's wedding. His beloved
        son Michael has just come home from the war, but does not intend to become part of his father's business. Through
        Michael's life the nature of the family business becomes clear. The business of the family is just like the head
        of the family, kind and benevolent to those who give respect, but given to ruthless violence whenever anything stands
        against the good of the family.
        <footer>
            <div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">
                <button type="text" style="color: #4D4D4D;" (click)="display=false">Yes</button>
                <button type="text" style="color: #4D4D4D;" (click)="display=false">No</button>
            </div>
        </footer>
    </ctaf-cp-dialog>
    <div class="jumbtron">
        <monacoeditor language='html' height="70">
            <![CDATA[
<ctaf-cp-dialog width="500" [(visible)]="bWidth">...</ctaf-cp-dialog>
		    ]]>
        </monacoeditor>
    </div>

    <h4 class="text-tips">右上角关闭事件</h4>
    <button type="text" style="color: #4D4D4D;" (click)="bClose=true">Show</button>
    <ctaf-cp-dialog (onAfterHide)="afterHide()" [(visible)]="bClose">
        <header>
            Header content here
        </header>
        The story begins as Don Vito Corleone, the head of a New York Mafia family, oversees his daughter's wedding. His beloved
        son Michael has just come home from the war, but does not intend to become part of his father's business. Through
        Michael's life the nature of the family business becomes clear. The business of the family is just like the head
        of the family, kind and benevolent to those who give respect, but given to ruthless violence whenever anything stands
        against the good of the family.
        <footer>
            <div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">
                <button type="text" style="color: #4D4D4D;" (click)="display=false">Yes</button>
                <button type="text" style="color: #4D4D4D;" (click)="display=false">No</button>
            </div>
        </footer>
    </ctaf-cp-dialog>
    <div class="jumbtron">
        <monacoeditor language='html' height="70">
            <![CDATA[
<ctaf-cp-dialog (onAfterHide)="afterHide()" [(visible)]="bClose">...</ctaf-cp-dialog>
		    ]]>
        </monacoeditor>
    </div>

    <h4 class="text-tips">显示多个dialog</h4>
    <button type="text" style="color: #4D4D4D;" (click)="buttonClick()">Show Multiple</button>

    <!--<button type="text" style="color: #4D4D4D;" (click)="addHandler()">Add One</button>-->
    <!--<div #addContainer></div>-->
    
    <div class="jumbtron">
        <monacoeditor language='typescript' height="400">
            <![CDATA[
import { CTAFComponent, AfterViewInit, AfterViewChecked, OnInit, ComponentBase, ViewChild, ElementRef, ChangeDetectorRef
    , ViewContainerRef, NgModule, CommonModule, FormsModule } from '@ctaf/framework';
import { DialogComponent, ComponentsModule } from '../../src/entry';

@CTAFComponent({
    templateUrl: 'dialog.html'
})
export class DemoDialogComponent extends ComponentBase {
    public count: number = 0;

    @ViewChild('dialogContainer', { read: ViewContainerRef }) dialogContainer;

    display: boolean = false;

    showDialog() {
        this.display = true;
    }

    buttonClick() {
        this.openDialog(WidgetModule, `<ctaf-wg-dialog #component></ctaf-wg-dialog>`).then((c: any) => {
            c.count = ++this.count;
            c.forceChange();
        });
    }

    public openDialog(m: any, template: string): Promise<any> {
        return new Promise<any>((resolve, reject) => {
            this.addChild(this.dialogContainer, template, m).then((component: any) => {
                resolve(component);
            });
        });
    }
}

@CTAFComponent({
    selector: 'ctaf-wg-dialog',
    template: `
        <ctaf-cp-dialog  [(visible)]="display"> 
            <header>
                Header {{count}}
            </header>        
                Conent {{count}}
            <footer>
                <div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">
                <button type="text" style="color: #4D4D4D;" (click)="display=false">Yes</button>
                <button type="text" style="color: #4D4D4D;" (click)="display=false">No</button>
                </div>
            </footer>   
        </ctaf-cp-dialog>
    `
})
export class WidgetDialogComponent extends ComponentBase {
    public display: boolean = true;
    public count: number;

    constructor(cdr: ChangeDetectorRef) {
        super(cdr);
    }
}

@NgModule({
    imports: [CommonModule, FormsModule, ComponentsModule],
    exports: [WidgetDialogComponent],
    declarations: [WidgetDialogComponent],
    bootstrap: [],
    providers: [],
})
export class WidgetModule {
}
		        ]]>
        </monacoeditor>
    </div>

</div>

<div #dialogContainer></div>